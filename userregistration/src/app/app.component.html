
<div class="container">
  <!-- user form submission. -->
  <h2>User Registration Form</h2>
  <form [formGroup]="registrationFrom" class="mt-3">
    <div class="form-group">
      <label>Username</label>
      <input formControlName="name" type="text" class="form-control">
      <small class="text-danger"
        *ngIf="registrationFrom.controls.name.touched && registrationFrom.controls.name.invalid">Username is
        mandatory</small>
    </div>
    <div class="form-group">
      <label>Email</label>
      <input formControlName="email" type="email" class="form-control">
      <small class="text-danger"
        *ngIf="registrationFrom.controls.email.touched && registrationFrom.controls.email.errors?.['required']">Email is
        mandatory.</small>
      <small class="text-danger"
      *ngIf="registrationFrom.controls.email.touched && registrationFrom.controls.email.errors?.['pattern']">Email is invalid.</small>
    </div>
    <div class="form-group">
      <label>Phone Number</label>
      <input formControlName="phoneNumber" type="text" class="form-control">
      <small class="text-danger"
        *ngIf="registrationFrom.controls.phoneNumber.touched && registrationFrom.controls.phoneNumber.errors?.['required']">Phone
        Number
        is mandatory</small>
      <small class="text-danger"
      *ngIf="registrationFrom.controls.phoneNumber.touched && registrationFrom.controls.phoneNumber.errors?.['pattern']">Phone
      Number is invalid.</small>
    </div>
    <div class="form-group">
      <label>Address</label>
      <input formControlName="address" type="text" class="form-control">
      <small class="text-danger"
        *ngIf="registrationFrom.controls.address.touched && registrationFrom.controls.address.invalid">Address is
        mandatory</small>
    </div>
    <button (click)="handleSubmit()" [disabled] = "!registrationFrom.valid" class="btn btn-primary mt-2" type="submit">Submit</button>
  </form>

  <!-- users will be displayed from here -->
  <div *ngIf="users">
    <div class="row">
      <div *ngFor="let user of users; index as i" [ngClass]="'col-xs-4 col-sm-4 col-md-4 col-lg-4'">
        <div class="card mt-3">
          <div class="card-body">
            <p class="card-title">Username: {{user.name}}</p>
            <p class="card-text">Email: {{user.email}}</p>
            <div [id]="'extra_details_'+i" class="collapse">
              <p>Phone Number: {{user.phoneNumber}}</p>
              <p>Address: {{user.address}}</p>
            </div>
            <button data-bs-toggle="collapse" class="btn btn-light btn-sm" [attr.data-bs-target]="'#extra_details_'+i"
              (click)="changeText(i)"><small>{{user.text}}</small></button>&nbsp;
            <button (click)="deleteUser(i)" class="btn btn-light btn-sm">Delete</button>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>

